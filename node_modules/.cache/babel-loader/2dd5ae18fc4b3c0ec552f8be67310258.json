{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst utils_1 = require(\"./utils\");\n\nclass FlattenIterator {\n  constructor(outer) {\n    this.outer = outer;\n  }\n\n  next() {\n    // Currently iterating over an inner Iterable?\n    if (this.inner) {\n      const result = this.inner.next(); // If not done, return result\n\n      if (!result.done) {\n        return result;\n      } // Else stop iterating inner Iterable\n\n\n      this.inner = undefined;\n    } // Continue with next outer element\n\n\n    const {\n      value,\n      done\n    } = this.outer.next(); // If the value is iterable, start iterating over it\n\n    if (utils_1.isIterable(value)) {\n      this.inner = value[Symbol.iterator]();\n      return this.next();\n    }\n\n    return {\n      value,\n      done\n    };\n  }\n\n}\n\nexports.FlattenIterator = FlattenIterator;","map":{"version":3,"mappings":";;;;;;AAAA;;AAEA,MAAaA,eAAb,CAA4B;EAGxBC,YAAoBC,KAApB,EAAwC;IAApB;EAAwB;;EAE5CC,IAAI;IACA;IACA,IAAI,KAAKC,KAAT,EAAgB;MACZ,MAAMC,MAAM,GAAG,KAAKD,KAAL,CAAWD,IAAX,EAAf,CADY,CAEZ;;MACA,IAAI,CAACE,MAAM,CAACC,IAAZ,EAAkB;QACd,OAAOD,MAAP;MACH,CALW,CAMZ;;;MACA,KAAKD,KAAL,GAAaG,SAAb;IACH,CAVD,CAWA;;;IACA,MAAM;MAAEC,KAAF;MAASF;IAAT,IAAkB,KAAKJ,KAAL,CAAWC,IAAX,EAAxB,CAZA,CAaA;;IACA,IAAIM,mBAAWD,KAAX,CAAJ,EAAuB;MACnB,KAAKJ,KAAL,GAAaI,KAAK,CAACE,MAAM,CAACC,QAAR,CAAL,EAAb;MACA,OAAO,KAAKR,IAAL,EAAP;IACH;;IACD,OAAO;MAAEK,KAAF;MAASF;IAAT,CAAP;EACH;;AAxBuB;;AAA5BM","names":["FlattenIterator","constructor","outer","next","inner","result","done","undefined","value","utils_1","Symbol","iterator","exports"],"sources":["../src/flatten.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}